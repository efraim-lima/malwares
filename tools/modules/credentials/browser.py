from selenium import webdriver
from selenium.webdriver.chrome.options import Options
import time

# Configurar as opções do Chrome para o modo headless
chrome_options = Options()
chrome_options.add_argument("--headless")

# Definir o caminho para o diretório de perfil temporário
profile_directory = "/tmp/chrome-tmp"

# Iniciar o driver do Chrome com as opções e o diretório de perfil
driver = webdriver.Chrome(options=chrome_options, user_data_dir=profile_directory)

# Abrir o Chrome
driver.get("chrome://settings-frame/syncSetup")

# Esperar até que a página de configurações de sincronização seja carregada (você pode ajustar o tempo de espera conforme necessário)
time.sleep(10)

# Clicar no botão "Iniciar Sincronização"
start_sync_button = driver.find_element_by_id("sync-setup-link")
start_sync_button.click()

# Aguardar alguns minutos para que a sincronização seja concluída (3-4 minutos)
time.sleep(240)  # Espera 4 minutos (você pode ajustar isso conforme necessário)

# Fechar o Chrome
driver.quit()
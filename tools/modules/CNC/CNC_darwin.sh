#!/bin/bash

# Definir variáveis para o nome de usuário e senha da chave SSH
SSH_USERNAME=USUARIO_SSH
SSH_PASSWORD=SUA_SENHA

# Instalar o servidor SSH no Linux ou macOS
sudo apt-get update
sudo apt-get install -y openssh-server

# Criar usuário e definir senha para a chave SSH
sudo useradd -m -p $(openssl passwd -1 $SSH_PASSWORD) $SSH_USERNAME

# Configurar o arquivo de configuração SSH
sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.backup

# Ativar o acesso root (opcional, mas não recomendado em produção)
sudo sed -i 's/#PermitRootLogin prohibit-password/PermitRootLogin yes/' /etc/ssh/sshd_config

# Reiniciar o serviço SSH
sudo service ssh restart
